<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>statbaremin – fastStat</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-79108a0fc1995748cbd19a5b0e3e3e7c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="statisticsthe-bare-minimum-or-even-less" class="level1">
<h1>Statistics–the Bare Minimum (or even less)</h1>
<p>This document presents a very brief overview of the main ideas in practical statistics. The only background assumed is high school algebra, e.g.&nbsp;familiarity with the slope of a line. We also assume that the reader has been exposed (superficially) to the notions of mean, standard deviation and histograms.</p>
<p>Occasionally there are references to data frames etc. for readers who use R or Python for data science, but these references are not essential to the narrative. Near the end of the document, examples of the concepts that use actual R statistical operations are shown, but this is not intended as a tutorial on R, and can be understood with knowing the R details. (See my <a href="https://github.com/matloff/fasteR">fasteR tutorial</a> for a quick introduction to R.)</p>
<p>In addition there are also references to my <a href="https://github.com/matloff/fastStat">fastStat tutorial</a>, which is more detailed and presumes more background (a calculus-based probability course) on the part of the reader. These may be safely ignored by readers without this background.</p>
<section id="coverage" class="level2">
<h2 class="anchored" data-anchor-id="coverage">Coverage</h2>
<p>Main topics:</p>
<ul>
<li><p>central importance of sampling variation</p></li>
<li><p>standard errors; statistical inference</p></li>
<li><p>prediction, especially with linear models</p></li>
<li><p>effect estimation, confounding</p></li>
</ul>
<p>Notably missing:</p>
<ul>
<li><p>normal, chi-square, F distributions</p></li>
<li><p>inordinate emphasis of hypothesis testing and p-values</p></li>
</ul>
</section>
<section id="data-notation" class="level2">
<h2 class="anchored" data-anchor-id="data-notation">Data notation</h2>
<p>Say we have data on height, age and weight for 100 people. Then the fact that we have 3 variables is denoted p = 3. The number of people, 100 here, is denoted n = 100.</p>
<p>Of course, data points need not be people. For instance, we may have data on a sample of n = 25 elementary schools in a US state, with the data on any school being the number of students and number of teachers. We’d have p = 2 here.</p>
<p>By the way, the proper statistical phrasing is that, say in the school example, is “We have a sample of size 25,” not “We have 25 samples.”</p>
<p>We’ll use X<sub>1</sub> to denote the first data point in our sample. In the people example above, X<sub>1</sub> denotes the height, age and weight of the first person in our sample. X<sub>2</sub> is our second data point, say the numbers of students and teachers for the second school in the school example. X<sub>3</sub>, X<sub>4</sub> and so on are defined similarly.</p>
<p>Storage in a data frame would have n rows and p columns.</p>
</section>
<section id="sampling-from-populations-conceptual-or-real" class="level2">
<h2 class="anchored" data-anchor-id="sampling-from-populations-conceptual-or-real">Sampling from populations, conceptual or real</h2>
<p>Our 100 people is considered a sample from some population, maybe the population of all UC Davis students. Our 25 elementary schools may have been chosen randomly among all such schools in the state.</p>
<p>Since the data is considered to have been sampled randomly, the X<sub>i</sub> are random. This randomness is at the heart of statistical inference, as you will see below.</p>
<p>In some cases, the sampled “population” may be more conceptual than real. Say we collect data on <em>all</em> UCD students. They might be considered to be a “sample” from the set of all such students, past, present and future. There may be issues here, e.g.&nbsp;change in student characteristics over time, so some caution must be exercized in applying statistical methods in such contexts.</p>
</section>
<section id="standard-errors" class="level2">
<h2 class="anchored" data-anchor-id="standard-errors">Standard errors</h2>
<p>This section is longer but involves the very essence of statistical inference. Some extra effort on the reader’s part here will pay large dividends.</p>
<p>Around election times, one often here on TV newscasts the results of opinion polls, statements along the lines of “Candidate X is supported by 54.5% of the voters, according to a survey released today. The margin of error is 3.2%.” We’ll discuss the exact meaning of the margin of error later, but for now our focus is on why we need something like a margin of error, or more broadly, a <em>standard error</em>.</p>
<p>Suppose the poll data had n = 1200, i.e.&nbsp;1200 people were surveyed, say via random selection from a list of phone numbers. Let’s use Q to denote the proportion of people in our poll who say they will vote for Candidate X, so Q = 0.545 above.</p>
<p>If, hypothetically, the poll were to be conducted a second time, we would have a different set of 1200 people, and this time there might be, say, 51.7% of them saying they will vote for Candidate X, i.e.&nbsp;Q = 0.517. In other words, there is <em>sampling variation</em> in Q.</p>
<p>Similarly, say we are interested in the mean weight of all UCD students, based on a sample of 100. Our estimate of that population mean will be the average weight in our sample, denoted X<sub>bar</sub>. Well, X<sub>bar</sub> will be subject to sampling variation too; each different set of 100 students will have a different value of X<sub>bar</sub>.</p>
<p>In general, let T be our estimate of some population quantity θ. E.g. in the weight example above, T would be X<sub>bar</sub>, and θ would be the mean weight of students over the entire population. Is T probably pretty accurate, i.e.&nbsp;probably pretty close to the true (though unknown) value of θ? We reason as follows.</p>
<p>We just have our one sample, and hope that it yields a T value near θ, but we have to wonder: Is this sample representative? Might other samples have values of T that are closer to the true (but unknown) value of θ?</p>
<p><em>Key point:</em> If we know that T doesn’t vary much from one sample to another, that concern is addressed! If the sampling variability of T is small, then for most samples T will be near θ, so our value of T is likely near θ. No guarantees of course.</p>
<p>So, what measure do we use to describe the variability of T? We use the same measure that is used to describe the variability of any quantity–its standard deviation. And that’s what the standard error of T is–its standard deviation over all possible samples. Let’s denote it as se(T).</p>
<p>But wait a minute…that standard deviation is a population quantity, so we don’t know it anymore than we know the true value of θ. Have we hit a dead end here? It turns out that the answer is no. We can estimate that standard deviation too.</p>
<p>There is also a related question: What if most of the values of T are near each other, BUT not centered near θ? This is a question of (near-) <em>unbiasedness</em> of T. It’s beyond the scope of “bare minimum or less” tutorial, but see Lesson STDERRS of the <em>fastStat</em> tutorial.</p>
</section>
<section id="confidence-intervals" class="level2">
<h2 class="anchored" data-anchor-id="confidence-intervals">Confidence intervals</h2>
<p>Recall the political poll example, and the notion of margin of error. Recall that we used Q to denote the proportion of Candidate X supporters in our sample? How does the margin of error relate to standard error? Actually, the relation is simple:</p>
<p>margin of error = 1.96 x se(Q)</p>
<p>So to get a range for q, the true population proportion of voters supporting X, we compute the interval</p>
<p>Q ± 1.96 x se(Q)</p>
<p>This is then an approximate 95% <em>confidence interval</em> for q, the true population proportion of voters favoring Candidate X.</p>
<p>What does it mean to say we are “95% confident” than q is in that interval? It simply means that 95% of all possible samples will yield intervals that contain the true q.</p>
<p>Of course, we don’t know the situation for our particular sample. Instead, the above probability interpretation is analogous to, say, dice. If we roll 2 dice, the probability that their sum is at least 11 is 8/9. So if we roll 2 dice 900 times, about 800 of the roles will come out 11 or higher, so we say we “probably” will get a sum of at least 11.</p>
<p>Lessons CI and CIAPPROX in the <em>fastStat</em> tutorial go into the details.</p>
</section>
<section id="prediction" class="level2">
<h2 class="anchored" data-anchor-id="prediction">Prediction</h2>
<p>These days machine learning is really in vogue. The basic goal is to preduct one variable, i.e.&nbsp;guess its value, from others. We might want to predict whether a loan applicant will pay off the loan, based on job status, previous credit history, etc. Or we may wish to predict whether someone has a certain disease, based on physical measurements, family history and so on.</p>
<p>Here is the basic approach:</p>
<blockquote class="blockquote">
<p>To predict some variable Y from X = t, the optimal rule is to guess Y to be the mean Y among all population entities have X = t.</p>
</blockquote>
<p>E.g. to predict someone’s weight from their height and age, say height 70 and age 28: Our guess is the mean weight of all people of height 70 and age 28. Note that this is a <em>population</em> quantity.</p>
<p>The issue is then:</p>
<blockquote class="blockquote">
<p>How can we find subgroup means of this sort?</p>
</blockquote>
<p>This is usually not so easy as it sounds. If, say, our sample (<em>training data</em> in machine learning parlance) consists of only n = 100 people, we may not have any people of height 70 and age 28, so we cannot find the desired mean directly from our data. Or, we might have just, say, 2 or 3 such people, hardly enough to get a reliable estimate of the mean.</p>
<p>What can be done?</p>
<ul>
<li><p>We could look at people in our sample whose height and weight are <em>near</em> 70 and 28, and find their average weight. That would be our estimate of the mean weight of all people in the population of height 70 and age 28. This is what many machine learning algorithms boil down to, especially the k-Nearest Neighbors and Random Forests methods.</p></li>
<li><p>We could assume that, viewed as a function of the two variables height and age, the quantity mean(weight for a given height and age) follows a certain mathematical formula, typically the <em>linear model</em>.</p></li>
</ul>
<p>In our “bare minimum, even less” context here, we will focus on linear models. See the <em>fastStat</em> tutorial for machine learning methods, starting with Lesson PREDICT.</p>
<p><strong>Important note:</strong> Linear and other prediction models can be used for more than prediction! A very common use is effect measurement. In a study of gender pay gap, we may posit that several variables affect wages, such as education, age, type of job and so on. We might use a linear model to gauge the effect of gender, in the presence of the other variables. We’ll do more on this later in the tutorial.</p>
</section>
<section id="linear-models" class="level2">
<h2 class="anchored" data-anchor-id="linear-models">Linear models</h2>
<p>We assume a linear model, e.g.&nbsp;for predicting weight from height and age:</p>
<p>mean weight = β<sub>0</sub> + β<sub>1</sub> height + β<sub>2</sub> age</p>
<p>The β<sub>i</sub> are population values, which we estimate from the data. Call the estimates b<sub>i</sub>. Note that the b<sub>i</sub> are random, since they are calculated from our sample data, and thus have standard errors. For instance, b<sub>2</sub>, the estimated age coefficient, will vary from one sample to another; its standard error helps us assess whether our b<sub>2</sub> is likely reasonably close to β<sub>2</sub>.</p>
<p>Here is an example in R, using a dataset <strong>mlb</strong> on Major League Baseball players.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z <span class="ot">&lt;-</span> <span class="fu">lm</span>(Weight <span class="sc">~</span> Height<span class="sc">+</span>Age,<span class="at">data=</span>mlb)  <span class="co"># mlb dataset, MLB players</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">summary</span>(z)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>coefficients<span class="sc">:</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>             estimate std. error t value <span class="fu">pr</span>(<span class="sc">&gt;</span><span class="er">|</span>t<span class="sc">|</span>)    </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>(intercept) <span class="sc">-</span><span class="fl">187.6382</span>    <span class="fl">17.9447</span>  <span class="sc">-</span><span class="fl">10.46</span>  <span class="sc">&lt;</span> <span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>height         <span class="fl">4.9236</span>     <span class="fl">0.2344</span>   <span class="fl">21.00</span>  <span class="sc">&lt;</span> <span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>age            <span class="fl">0.9115</span>     <span class="fl">0.1257</span>    <span class="fl">7.25</span> <span class="fl">8.25e-13</span> <span class="sc">**</span><span class="er">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(Ignore all but the first column for now.)</p>
<p>Now, what about our earlier question of what value we should use to predict the weight of a person who is 70 inches tall and is 28 years old? Remember, our model is</p>
<p>mean weight = β<sub>0</sub> + β<sub>1</sub> height + β<sub>2</sub> age</p>
<p>so our prediction for the weight of such a person is</p>
<p>β<sub>0</sub> + β<sub>1</sub> 70 + β<sub>2</sub> 28</p>
<p>The β<sub>i</sub> are known, so we replace them by our estimates:</p>
<p>b<sub>0</sub> + b<sub>1</sub> 70 + b<sub>2</sub> 28 = -187.64 + 4.92 x 70 + 0.91 x 28</p>
<p>and that will be our predicted value. Actually, R does that for us:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">predict</span>(z,<span class="fu">data.frame</span>(<span class="at">Height=</span><span class="dv">70</span>,<span class="at">Age=</span><span class="dv">28</span>))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>       <span class="dv">1</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fl">182.5367</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We predict a weight of about 182 pounds.</p>
<p>See more in Lesson LIN of the <em>fastStat</em> tutorial.</p>
</section>
<section id="estimation-of-effects" class="level2">
<h2 class="anchored" data-anchor-id="estimation-of-effects">Estimation of effects</h2>
<p>According to our above model, players of height 70 and age 28 have mean weight</p>
<p>β<sub>0</sub> + β<sub>1</sub> 70 + β<sub>2</sub> 28</p>
<p>For players of that height but age 29, the figure is</p>
<p>β<sub>0</sub> + β<sub>1</sub> 70 + β<sub>2</sub> 29</p>
<p>Subtracting the age 28 expression from the age 29 one, we have</p>
<p>mean weight (height 70, age 29) - mean weight (height 70, age 28) = β<sub>2</sub></p>
<p>The other terms canceled out. In fact, they would have canceled out if we had compared 32-year-olds to those of age 33, etc. And furthermore, we see that this also would have been true for players of height 73.</p>
<p>In other words:</p>
<blockquote class="blockquote">
<p>The average effect on weight of one extra year of age is β<sub>2</sub>.</p>
</blockquote>
<p>Our estimate of the unknown β<sub>2</sub> is b<sub>2</sub>, which we found above to be 0.9115. So, mean weight among the players increases almost a pound per year of age, perhaps surprising for such a physically fit group.</p>
<p>But wait–might this be a sampling artifact? Let’s look at the standard error of this figure, shown in the above output to be 0.1257. This gives an approximate 95% confidence interval for the true population β<sub>2</sub>:</p>
<p>0.9915 ± 1.96 x 0.1257 = (0.6651,1.1579)</p>
<p>So it does seem that there is a weight gain here, at least about 2/3 of a pound per year.</p>
</section>
<section id="indicator-variables" class="level2">
<h2 class="anchored" data-anchor-id="indicator-variables">Indicator variables</h2>
<p>Often a variable of interest is dichotomous. For instance, in predicting human weight from height and age, we might also have gender data. These are typically coded 1 and 0, say 1 for male, 0 for female. These variables are known as <em>indicator variables</em>. Our model of mean weight would then be</p>
<p>mean weight = β<sub>0</sub> + β<sub>1</sub> height + β<sub>2</sub> age + β<sub>3</sub> I<sub>male</sub></p>
<p>where I<sub>male</sub> is equal to 1 for a man, 0 for a woman.</p>
<p>More in Lesson INDICATORS in the <em>fastStat</em> tutorial.</p>
</section>
<section id="ceteris-paribus-comparisons" class="level2">
<h2 class="anchored" data-anchor-id="ceteris-paribus-comparisons"><em>Ceteris paribus</em> comparisons</h2>
<p>We saw above that linear models can be used not only for prediction but also for effect estimation. In fact, they may be used for <em>fairer, more meaningful</em> estimation, as will be shown in this section.</p>
<p>Let’s first consider the famous UC Berkeley data on admissions to grad school. It was alleged that Berkeley was biased against female applicants, which seemed odd, so statistics professor Peter Bickel took a fresh look at the data.</p>
<p>It turned out to be true the over proportion</p>
<p>(male applicants admitted) / (male applicants)</p>
<p>was greater than the corresponding fraction for females,</p>
<p>(female applicants admitted) / (female applicants)</p>
<p>But it turned out that the overall lower rate for women was largely due to their applying to the more selective departments. Comparing admissions rates in individual departments, the seeming anomaly disappeared; male and female rates were similar in most departments, and in some the female rare was considerably higher.</p>
<p>The lesson to be learned is:</p>
<blockquote class="blockquote">
<p>Relations between two variables, in this case Admission and Gender, can be highly impacted by a third variable, Department here.</p>
</blockquote>
<p>The Latin term <em>ceteris paribus</em>, “all else being equal,” applies here. In comparing male and female admissions rates, we must make sure that all other variables are equal, e.g.&nbsp;compare the male admissions rate <em>in Department A</em> to the female rate <em>in Department A.</em></p>
<p>Linear models are often used for ceteris paribus analyses. Let’s look at an analysis of a possible gender pay gap. The <strong>pef</strong> dataset gives census data in Silicon Valley, back in the year 2000. Six different tech job titles were present.</p>
<p>Here is what the first six rows of the data look like:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">head</span>(pef)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>       age     educ occ sex wageinc wkswrkd</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="fl">50.30082</span> zzzOther <span class="dv">102</span>   <span class="dv">2</span>   <span class="dv">75000</span>      <span class="dv">52</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="fl">41.10139</span> zzzOther <span class="dv">101</span>   <span class="dv">1</span>   <span class="dv">12300</span>      <span class="dv">20</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="fl">24.67374</span> zzzOther <span class="dv">102</span>   <span class="dv">2</span>   <span class="dv">15400</span>      <span class="dv">52</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="fl">50.19951</span> zzzOther <span class="dv">100</span>   <span class="dv">1</span>       <span class="dv">0</span>      <span class="dv">52</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="fl">51.18112</span> zzzOther <span class="dv">100</span>   <span class="dv">2</span>     <span class="dv">160</span>       <span class="dv">1</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="fl">57.70413</span> zzzOther <span class="dv">100</span>   <span class="dv">1</span>       <span class="dv">0</span>       <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A linear model was used, with mean income modeled in terms of age, education, job title, gender and number of weeks worked. The occupation column was converted to indicator variables. Here are the results:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">coef</span>(<span class="fu">lm</span>(wageinc <span class="sc">~</span> .,<span class="at">data=</span>pef))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a> (Intercept)          age       educ16 educzzzOther       occ101</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>occ102 </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a> <span class="sc">-</span><span class="fl">12669.3225</span>     <span class="fl">469.8373</span>    <span class="fl">7597.2521</span>  <span class="sc">-</span><span class="fl">14167.3888</span>    <span class="fl">1838.5510</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fl">13688.3012</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      occ106       occ140       occ141         sex2      wkswrkd </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>   <span class="fl">1380.0254</span>   <span class="fl">11732.5837</span>   <span class="fl">10791.0158</span>   <span class="sc">-</span><span class="fl">8595.5831</span>    <span class="fl">1323.1999</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>R created a new indicator variable here, <strong>sex2</strong>, which indicated female; its value is 1 for women, 0 for men. Here the gender variable is coded 1 for men, 2 for women.</p>
<p>In the same manner as where the age effect in the baseball player example could be assessed by the coefficient of the Age variable, the coefficient for <strong>sex2</strong>, -8595.5831, is our estimate of the gender pay gap: Comparing men and women of the <em>same age</em>, <em>same education</em> and so on, we found that women were paid about $8600 less than comparable men.</p>
</section>
<section id="significance-testing-and-p-values" class="level2">
<h2 class="anchored" data-anchor-id="significance-testing-and-p-values">Significance testing and p-values</h2>
<p>This is one of the tragedies of statistics: An old method has long been shown to be at worst misleading and at best noninformative, yet was so entrenched that it continues to be very widely used today. Here we give a brief description of the method, <em>significance</em> testing, and explain its pitfalls.</p>
<p>The method first sets a <em>null hypothesis</em> H<sub>0</sub>. In the gender pay gap example, we might have</p>
<p>H<sub>0</sub>: β<sub>sex2</sub> = 0</p>
<p>Here H<sub>0</sub> hypothesizes that there is no gender pay gap.</p>
<p>The decision is made on the basis of “innocent until proven guilty”: We believe H<sub>0p</sub> is true until and unless we find strong evidence to the contrary. Well, then, what constitutes “strong evidence”?</p>
<p>The answer is that we look at the quotient</p>
<p>Z = b<sub>sex2</sub> / (standard error of b<sub>sex2</sub></p>
<p><em>If H<sub>0</sub> were true</em>, Z would be between -1.96 and 1.96 with probability 0.95. (Yes, these numbers do also appear in our section on confidence intervals, but the usage and interpretation will be different here.) Again, <em>if H<sub>0</sub> were true</em>, that quotient would have only a 5% chance of being larger than 1.96 or less than -1.96. So, if the quotient does fall into that outside range, we say, “This would be unlikely under H<sub>0</sub>, so we will abandon our belief in H<sub>0</sub>.”</p>
<p>SAT ex; don’t just see if CI contains 0; p-value “greed”</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>